{% extends "layout.html" %}

{% block title %}SafeSend - File Directory{% endblock %}

{% block content %}
<div class="card">
	<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
		<h2><i class="fas fa-folder-open" style="color: var(--primary-color);"></i> File Directory</h2>
		<a href="{{ url_for('call_page_upload') }}" class="btn btn-outline">
			<i class="fas fa-upload"></i> Upload New
		</a>
	</div>

	{% if msg != '' %}
	<div style="text-align: center; padding: 3rem; color: var(--text-muted);">
		<i class="fas fa-folder-minus" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
		<h3>{{ msg }}</h3>
	</div>
	{% else %}
	<div class="grid">
		{% for itr in range(length) %}
		<a href="retrieve/file/{{ list[itr] }}" style="text-decoration: none; color: inherit;">
			<div class="feature-card" style="align-items: flex-start; text-align: left; padding: 1.5rem;">
				<div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
					<div
						style="background: rgba(59, 130, 246, 0.1); padding: 0.75rem; border-radius: 8px; color: var(--primary-color);">
						<i class="fas fa-file-alt" style="font-size: 1.5rem;"></i>
					</div>
					<div style="font-weight: 600; word-break: break-all;">
						{{ list[itr] }}
					</div>
				</div>
				<div style="width: 100%; text-align: right;">
					<span style="color: var(--primary-color); font-size: 0.9rem; font-weight: 500;">
						Download <i class="fas fa-arrow-right" style="font-size: 0.8rem; margin-left: 0.25rem;"></i>
					</span>
				</div>
			</div>
		</a>
		{% endfor %}
	</div>
	{% endif %}
</div>
{% endblock %}